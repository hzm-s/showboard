<%= tag.div class: %w(mt-10 container) do %>
  <%= tag.div class: %w(mx-auto w-[20rem]) do %>
    <%= tag.turbo_frame id: 'step_form' do %>
      <%= render Ui::BoardColumnComponent.new(class: %w(py-3 px-5)) do %>
        <%= tag.div class: %w(flex gap-5) do %>
          <%= tag.div class: %w(w-[20rem]) do %>
            <%= tag.h3 'Edit step', class: %w(font-bold mb-3) %>
            <%= form_with model: @step, method: :patch, html: { autocomplete: 'off' } do |f| %>
              <%= tag.div class: %w(flex flex-col gap-3) do %>
                <%= render partial: 'form', locals: { f: f } %>
                <%= tag.div class: %w() do %>
                  <%= render Ui::ButtonComponent.new(size: :sm, kind: :secondary).with_content('Save') %>
                <% end -%>
              <% end -%>
            <% end -%>
          <% end -%>
          <%= tag.div class: %w(w-[24rem] border-l border-gray-200 pl-5) do %>
            <%= tag.div class: %w(flex flex-col gap-4) do %>
              <%= tag.turbo_frame id: 'step_arrival_rules', src: step_arrival_rules_path(step_id: @step.id) do %>
                <%= render Ui::LoadingComponent.new %>
              <% end -%>
              <%= tag.turbo_frame id: 'step_departure_rules', src: step_departure_rules_path(step_id: @step.id) do %>
                <%= render Ui::LoadingComponent.new %>
              <% end -%>
            <% end -%>
          <% end -%>
        <% end -%>
      <% end -%>
    <% end -%>
  <% end -%>
<% end -%>
