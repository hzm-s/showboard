<% position_class = left? ? %w(left-0 origin-top-left) : %w(right-0 origin-top-right) %>
<%= tag.div data: { controller: 'dropdown', action: 'dropdown#toggle click@window->dropdown#hide' }, class: 'relative' do -%>
  <%= trigger %>
  <%= tag.div(
    data: {
      dropdown_target: 'menu',
      transition_enter: 'transition ease-out duration-200',
      transition_enter_from: 'opacity-0 translate-y-1',
      transition_enter_to: 'opacity-100 translate-y-0',
      transition_leave: 'transition ease-out duration-150',
      transition_leave_from: 'opacity-100 translate-y-0',
      transition_leave_to: 'opacity-0 translate-y-1',
    },
    class: %w(hidden transition transform absolute z-50 whitespace-nowrap mt-1 bg-white rounded-lg drop-shadow border border-gray-100) + position_class
  ) do -%>
    <%= dropping %>
  <% end -%>
<% end -%>
