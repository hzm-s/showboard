<%= render Ui::Board::ColumnComponent.new(size: states.size, data: { controller: 'item-counter' }) do |c| %>
  <% c.with_header do %>
    <%= render Ui::Board::ColumnHeaderComponent.new(main_title: name, sub_titles: has_buffer? ? states.map(&:name) : []) do |h| %>
      <% h.with_context_menu do %>
        <%= render Ui::ContextMenuComponent.new %>
      <% end -%>
      <% h.with_counter do %>
        <%= render Kanban::ItemCounterComponent.new(limit: limit) %>
      <% end -%>
    <% end -%>
  <% end -%>
  <% c.with_body do %>
    <% states.each do |state| %>
      <%= render Kanban::StateComponent.new(state: state, work_flow: @work_flow, can_add: initial_step?) %>
    <% end -%>
  <% end -%>
<% end -%>
